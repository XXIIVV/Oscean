<h2>Tote is a multiset rewriting playground.</h2>

<img src='../media/generic/tote.png' style='width:160px; float:right;margin-left:20px'/>

<p>Riffing on Le Guin's Carrier Bag Theory of Fiction, this presents a
primordial vision of computation in which programs are written as a list of <a
href='rewriting.html'>changes</a> in the content of a bag, and programming can
be done entirely without the need for textual representations.</p>

<p>To learn more, see the examples from <a href='pocket_rewriting.html'>Pocket
Rewriting</a>, and <a href='fractran.html'>Fractran</a>.</p>

<iframe src="../etc/uxn5/index.html#r=KaABXIAGN6Dwz4AIN6DwyoAKN6DwtYAMN2ANZ6ACbKABmGAV1oABoCK1FYEFA6AABDiECQBChQkEgjgVgAKBHVLAOBVgDMVgDItgAD0AAFRvdGUKQSBNdWx0aXNldCBQbGF5Z3JvdW5kCkJ5IEh1bmRyZWQgUmFiYml0cwoxNiBKYW4gMjAyNQAAoACWF6D__4AEMYAFAAKBBVgAMaAAAIANMaD_BhGgAkyAkDegAduAIDegAjKAgDdgC71gC_RgCBRgBuugAUsTbIAAgYAHHID4EyAAA2AJnaAAAAgGgPoTIAABAKAAUhCIIAAOgAGZgFIRiYAgBhQ7AiKgAFOFFgBTgxYERQIigAGCMzf3E2APOgCAgxYGgAgJIAAOoAAMEIBwP6AitThgBmECAGAUSICcNp0gADUioACWFgaA-RMmoAABKYB_BABKJqABggoFAi4moAAAgRUDAf2gAYIJEwK4AKD__yggAAqADzCgAAg4QAAHggkxOSagAwgrIAACIgCADzFgDrgAgJI2gAcxgJQ2gAkxoAALEaAB6oAgN4CSNqAAUCsgAFOBCQToKyAAg4ApCVYwoABYOSsgABKAMRpYMKAAMDk5oAAgKyAADaABCxFgCYOAADFADmCGLBw5oAAoOwMgAANAB2VgB6JACo6AkjYmoABAKiAAGoCSFYBFP4CUNqAAEDmgABg7OANgCaNA_7aA9RAXoAAABhigFw04NIANMUADI4CmAg8wOIQrCoBwP6AitTgmgFYzgbAVWDkmoP_wKiAAj6AAEjsPAsAAJoAcM4BrPDgklIAAiCAAH8lPIAAUJ5SAARkFBRUnoAAAOQNgCTNgBitBAYog_-EiIaog_9Qi7wkgAAhiIqAAAEAFtUGhRAQI7mAF5olEDyJiYAh1gAAxQA1SIkAFhCaA6xqggAArIAAFIqAACGyAVjCgABg5qyAAAiNsImyOHwBYiR8RgJI2gAcwOaaAHz86OYCUNoAJhAwEOKAABCuAHyqgAFA5oACYKiAAE4CUNqAAEDmADzA4oAAYOwNAAbCA_0ABq4AAMKEdIAACgW8RBDgUgAAEoD61OBSACxAcIAAdgUQICDlg_1EnNSEhgUQNBjlg_2MnNWAABCJA_POAPx8hNIAyMzSAHDOgPp2gOrW0oAAAKCAAMyaAADAoIAArtIB4DaAAADmg_-ArIAAboSE0ihE2CSOAAjGAAkAD76AABTiqIP-9IiKg__-AAjFsoAHbgCA3gAAwIR0gAANAAG2AADA0oABIKyAAUoIKBOAqIABmgCCAVQAIheAWgHA_oCK1OCZgAxGAAAQBoAASOqAASDiAPgsqIAAEoABAOKAAADCB8xg4lAEFBRVgBDdg_qogAKigAACAADA1YAg4gIQSADFgB8FgB_hA_Adg_osgAFaAAoGMAS6Agz0WgAAEBhigInU4NB2AAAggAANgB7xgB_yEOw6FYAe8QPvLgAIwtKANHDWAphkNKzWAAmADAWAEP2AHZWAHnED7q4AAMIACMYwlIAFgAttgBBlgB2pA-4gGgAwQCCAABoAMEUD7egJsoACWF4qEBhcNODSADTGDwIS9LD2gBuCAkDegBpiAIDegATwTbKAAAIiA-xMdIAABAKAAVBCIIAAOgAGZgFQRiYC_Bg9tAiKgAFWFFgBVgxYENgIigAGCMw_3E2AJJQCAkjagAJgrIADQgQkK0CsgAJRgD6CAlhaAWYEdDeArIAA5gJQ2gFgwOaD_gCEFDoCSNoBWgA0EgCogACWBQw44OYAEPwOADBmAlDagABCBDQNgCCgAgOICYPpQgQeDNjYGgNAKIAAcBoCoCiAAGqAEVRFgDp0iYAX5YAZUYAaFYP8dACJg-h0AoARUEWAOoyJgBi4AYA8MiJMEmDmART-DaRGgABg7OAYYoBcNODSADTFg_t6AcwkAgACAlhYGgPgTgeIMEDkmoACAKyAAAyIiAIOigBEgKiAAMIDFoBrlYA66JSagAQApIAADYAY3JqAAASggAHUcgzEOAx8FgAMfIwRgBvwAYA6AgYsHBCIiIgCgAJCB-QEFBYD_AQSdgD4BBxiGSQMOJqACg1QDFiagBYJfBAdCJqAGgwoDWSagB4MVAn4iIoG6ACKFbhKAQB8dYAY8IAAHgACgDxQVAIABgQYTwAAmoABAOCSUD1ghqiD_-CIiT2yA4Ac4JKAAACc1IYAUGPUiIkD5FWAALKA6taAitSagABFgAWMgAA-AJxWqIP_uoP8EESIibKAitTmABz-ABBECgQyALgIAgDmBYIEzDS8gAAupIP_qIiKg_wURhS8ABYAvD4AnE4AAMKAABDgUgCQTgAKDCgMlE8AAgnYRgADPoD7VOBSAAAkgACsmoAAAgAsDCCAAH4cLABOBnAEAxoEYBwbABlEiImxBg6YGviIiQqD_BoV3gE0LlAGAAxwFBRVA-DUmhxYEtAQkNSaA3QckJoATM5SAE4BXDoA4lIAEE4AJM4AAoAAAFYIFEiGqIP_bIiJg_uBgAANAB4TgIkWCrgYmYAAP7xVhg3sD8SIiYoDvDCcmgAozoACAOaogAA2AwyFgABogABFA_-siIiagAEA4YAAKBhgBbCIiIoACbOAAACQvgRYCJNRPgesMA2RhZJTUTwQKIAAGYYB7HediKE-AAAkcQmyg_wYQCCAAEGADHoAGEIAEEWAAUYDuBaD__4ACMYAFKQAxbKD_BRAJIAABbKAEUxFgC9GgAAUQgHA_oCK1OMARJqAAIDgklNAPWIGKBRQPWUdRQYDgDOwiIkJgARBAAv6g_wSEPwdSEWALcKAABIw_gzsKlE8EGc-AERlgAAyBQyHoIiJCQAK9ByAAAiJsB4CAHCAAA0AAWoAAMKD__yggABcGgAoRAAQ4FAkgAAqgAACAADA1BAEEgjABgAKGJgACiiYAAocmGgQHYAHSAQYg__cibIAABRkHgAAEYACIB2ABl4AVSfAibMAAoDq1oCK1gADPoD7VOBSAAwkgABsmoAARYP6QgAAIIAAOYAHdIiLABFFg_xFA9h5BoACAOKog_84iIkJsoFERgAAHEQGKgWEEYAGQwACCEoHoEUqQgACIIAAPgADPYAATz2ABIoIoAEGALwvaIkJsBhigInU4NJ2C0gwABIBAP6AAEDigDSs1hA0P-DigDRw1bKA-tTgUgAYfBoGfExCgAACgDSA1oP_woA0vNQJsBoACgRaADwEgNYEdgBYFgAEJIAAPhCwBABCALABsgQeFJABsgP4PPp2gAAU5tKAAACggAAcmYIAGCgipIP_pIqD__yNsgB8LOrW0HSAAAiNsoAAFgP4c8SIioDq1bLSAkjYkOaAAECsgAAQigABsISE0gJSFEiADgABsgAFsBoAgCyAAAgJsYP-zL4CSNqAACDnvYWE1gJSFChZvFWAAdkAArWD_kS-gAPgmoAAQOID2M4AlBqAAECagAACEDgNvFWwPg5GCsAsLJqAABDgUzwggAAiDnQfloAAAJDUiQoO6BKAAACc1g7gI8yIioAD4oA0cgFcHoA0rNWxg_jiJTwANgk8GgBEYkAEEEYPvFuMiIkD7DGD_0mD-GGAABmAAN0D4z8AAiYgBAUGDfhrvIiLAUVFsoA4NgKg3oCJ1oD8FJzmAqjeArDePFBKuN2xwcm9qZWN0LnRvdGUAoA5EgDYEHkWgIkWHNowUEa43bHN5bWJvbHMuaWNuAKAOe4BsAQAggGcBDTCAVYwSEaw3YP-3QPgYLnNuYXJmAKAOu4ExDAKAqjegDqmArDegDq-BBQC1gAsMAKMWCCAAEqAAAIAIN4AFAAqBBTgMN2wudGhlbWUAj4APHIADH8-AFx8YgDAfgAAEgA0wOIAAz4AEH4AHHDgUgAfPgAccGR-AARxCbASCLQIHgBOILQAFgDUmBxw4bCZg_92AACAAGiQCgAccgAcEGYBAH4ABBB8PlE8dBQUVQPdhjBkGgP8eD5RPHIEcJ0SADTAmoAAgOCSgAAAnNSEhqiD_9SIiQPcrBoAVCyAABKD_ADwHgBKBCh4A_zyvgA0woB5FOYAVP6AidTi0byggAAQ1QPb8IiJshBoSBT-gPrU4lAaABh8BgGAfBIA_HIGJAfbXiyECgAQegRcAv4wXAAKCFwCnjC8AAYIvLI-gANiAKDegAACAKjeggC4XoADYYAHfoAAmF4AAgAAHgA8cgDA_oAAQOIAoN4APATQfgQwAKoAMAmD-f4AcJRdVOIAsN6AFLxcBBiD_ygKgFiYXoBjloAAQoACgYAYhoBkloAAggQsGFaAZRaAAMIEXAwmgGWWK5w0UgAYfgAAEgFA_OKAAYIA8BAXkoBoljCQLBBwgAASgACA4oABwgSQDv6AZ5YxJAAGGJACAgUkQmmAB5WAFEmAFL4BWMKAAMDmA0ABYggkJKjegGKWAAGAAsIG7ACCA-RQGGKAidTg0r6AAACggADeAAM-AQD-F-wBEgg0B-DiARYEsJhcNODSADTAngCw3KIAFGoAKGIAvlxdiAYog_7EibKAAUIAoN6AAAIBrKYAuF6AASGAAeGABUmADL2AEvEAE2iAAMwKgNiYXoBulgCw3oAovl5eXF4COBYAoNqAACIFoBCo2oAAYgK6DIQoXbIAACYAQH8AAD4E6Bhwl74BwPziAPwCBjT-CPAVvOEAEjyaGiwGSLoFkByagADg5gCYzgvsLJqA-tTgUgAIfgAEcgMsRBQQZoBaSFSaABB-gABg6oAAAgPcDJoAPHIIODhA4gCo3BhigFw04NGAENoDzA7kigAWAMwmADTCgAAAoIAA1gAkFHkU5gAU_hEcCgLYygdaERgAMgEaA8gKgF8WA4QKFLxeGqAACgBYAZYD4CjOBYAK7gCQ2gDQ_gMEARYAvAHWC8zQXQAKIYABcoD6doDq1JmAA1KAABTiqIP_0IiKAADChHSAAAiJsoAAEOBSAAAQGGKAidTg0nYIUCxYmF4AABIBAP6AADYDOhAwA-IDqAqAX5YOQKGyADBAgAAFswACgAAwQgHA_oCK1OCagAEA4JJSAAAggAAegCgDPYAAdgRMAFIMSAA-AEgkKQSGqIP_ZIiJCgW0AJoZ_BAQiIgJshH0AEI19DwYYoBcNODSALDeAL5cXbLSCxgy0oADgKyAAI7SAVjArgdgAJoTZB6A-tTgUgAQcgZCAGBmAADAoIAAxJoACMCkgAAug_wYQCCAAA2AAjoD3C7SAKDchIbSAKjchIYA-g28BQAKMUQQBHCAAVoQxAKGOMQ-vgCw3tKAASCsgAAWgCi-Xg1kwNKAAAzmAKjfALHegBS-XF4AqtqAAEzkFN6AXxYAsN6CFLxdsYAADQP9yoDYmF6AbJYJGAQg5gWUANIEJASo3gFAJl5cXbKAAEIAPMIERNRYmF8AAoDq1oCK1gCo2oAAQOIBWMCogAGmAAM-gIkU4FIAFGqAWkhXPgAQQCSAAF6AARoAoN4AqARgFgHgAD4GMGTegAFiAKDcmYAB1z2AAvCagAEA4YABpz4AFgDQAHYIrCoAotqAACDgFN6AahMEDEDkFN4HKERg4BTdBoACAOKog_3ciIkKABYB0CKAA4IAoN6AAAIC7BQImF6AXTYDsEzMFD8AvgAAEGdcBBiD_-gJibMAAgXImJJTPYAAKQSGqIP_1IiJCbAcgAAIibIAABAYYoBcNODSACTPAKvZFgDoFoAAAYADPgZIEEjgFN_eASUnrAmJCbIAAB6A-1TgUgAAEgFA_oBglOIAsN8AodsAqdoAGEAiAChqABRiAL5cXwCp34AASeMAod2yAVjCgAIA5gCg3gFgwoAAwOYCvChkFgFUQgFEQQPtngR8AWIsfAxjFgFSCHwBHgT8AMIs_CyIlgFIQgAQQAUD7JpFABiAlgFMQgAWAIAMFgCo3gH0hLDegBS-XF2yAxaAaZYCWFiAABKAAQDigHiWALDeAQGAAF4AHHJI2oAAEOYAPM4CUNqAABTmACzOgFiYXoAAAgCg3gAUBKjeA4HJsBGAAAAaABB9gAACADxwGgAkKgCcaGIAwGIAZF2yAJDeAIjeAIjaAVjGAJDaAWDFsHkUeZR6FHqUexR7lHwUfJR9FH2UfhR-lH8Uf5SAFICUgRSBlIIUgpSDFIOUhBSElIUUhZSGFIaUhxSHlIgUiJQEAggEDAAAAEIAEAXz-gAAUfAAgICBAgICAQMDAwIAAAACAPAIBgQABwPyBIAD-gQ0CUVFRgS4Frq6uUVFRgSACrq6uhh8CAQEBgi0D_v4CPIFOASD8gk4GwAAHDw8HA4B3AAeCBgPg8PDggWoA4IIGBAcICAQCiB8DEBAgQIcfhwIDMDg8PoQRAz48ODCHHQA_gx8A_oEIAwAAAP6HHwIwODyFFgA_gzcA_opagj8BePyGPwH8eIhfADaEX4EIil8EGBwOBwOABw84cODAAwcOHBgAAADA4HA4gAcDAAAAEoECAgAASIECig0xAAA_ICElIiwiAPwEBESEZIQlISAgICA_AEQEfEhQYMAAAQIfID8QEBCAQPgE_AgICBCBAAIfAAiBAAD4gT8LIychIQD8BITE5ISEgT4DID8AhIM_gF8DISEnI4AfA4SE5MSNH4D_AQQGg_YEGDw_BgSB_wA8g7wTAAABAQEHAwEAAICAgODAgAAAAQOADQMAAIDAgA2EN4HqAiBg_IQ3AvxgIIQ_iS8EAQMHAQGATQPA4ICAgj8NBw8MDAwAAADg8DAwMB-BAAIAAPiBAIQegKaBHo8figMDQCAYB4DUAwIEGOCEwQMHGCNHgUEFGMTiBwcDgfMB4OCD-4H4AQgXhAiD9YUcHBAQIBAQCAcADw8fDw8HAAAgEBAQICDAAMDg4ODAg0ICCBQUgj8BCAixPwIPDgyCdwEFA4G7AwCAQCCC2QSAwAQCAYHkAAOCBg4AEAgEgkIkGADg8Ph8PBiB3AYgIEBAQAD_g-2EBwfgGAQEAgICQIMAh-yB_wACgwCfHwIgIBiCloZcAP-APw0EBBjgAAwwQECAgAAAzYP4ALOD-AcwDAICAQEAAYAbA4CAAICMfwMBAAABgAMAgIAdgQOMH4EeAAGAPQNAQDAMg92HZgYBAQICDDAPgX8JgIAADz8_f39_f4T-AQD_gwCLDwDwgZcJAQEA8Pz8_v7-_oA7gD-AO4A_mz4A_4A7gD-AO8BEPwNAQDAPgLsCPz8PnH4AAIC7AwICDPCAuwv8_PAAAAAPMEBAgICACAE_P4C_ivGODwvwDAICAQEAAADw_PzAvv-Ep5QHGAEDAwcHDw8fgMDA4ODw8PgfPz9_f___f_iA_CP___4BAwcPHz9__4DA4PD4_P7__38_Hw8HAwH__vz48ODAgH-D-AD-imiFFgIBBx-BIgKA4PiFIgN_HwcBgTMD-OCAA4BdA3___8CAXYFEAH-AYQMD___-gGEAwIUfBjAIBAICAQGEH4DlAgQIMI0fBoCAQEAgEAyGHwYMECBAQICAlD8HAAAAAAEHBw-ABweA4ODwDwcHAYATA_Dg4ICAG4QDBxh-fv__fn4YhAeEG4A7gDOAO4AzjCecDwkBAgICAh4gSACAgAAxQDBAPAIGBAQMEQgEAhkhQUGCAR8gyIB8BATAwMCQnF5NJQQEBAUJCjZsEgoEEiIiEvKIo5QLAxAwYf-A5wdvkiT8_2EwEIDzA_wkkm-B-y4CAgQECAgQgEBAICAQEAgQICBAQICAfwgEBAICAQH-AQIECBAgQICAQCAQCAQCAYQHhBcAf4G3A4CA_gGCAIMOAH-DDgT-AQYYYIHaAmAYBoQfgwqBGgIDDBCBcALAMAiBcACAgIgDEAwDAYCYAggwwIUfBvD4_P7-__-EHwb___7-_PjwlR-NP4tfhD8HAAAAAAEHBgyABweA4GAwDAYHAYATAzBg4ICAG4QDBxh-ZsPDZn4YhAeEG4A7gDOAO4AzjCecDwEAAYAAOQIMgEBAQEB4BBIQIECYhIKCQQI8QGAgIDCIAwMDCTl6sqSA-AQTAT4gIEhQIEhEREhPICAgoJBQbDaIo5ALFDBIh4dIMAAfAAD4_AwMDPw_MDAwP4ANBwAMEuHhEgwA"
style='outline:1px solid black;border:0;width:620px;height:408px;clear:both' allowfullscreen></iframe>

<h3>Introduction</h3>

<p>Programming is done by dragging things from the Panel(left) into the
Rules(middle) or Bag(right). Step through the evaluation by pressing the button
with the squiggly symbol(bottom right) to rewrite the symbols in the Bag.</p>

<table border='1'>
	<tr><th colspan='2'>Subtract Program</th></tr>
	<tr>
		<td><img src='../media/generic/tote_sub.png'/></td>
		<td><pre style='line-height:22px'>
:: x y sub > sub
:: x   sub > sub pos
::   y sub > sub neg
::     sub >
</pre></td>
	</tr>
</table>

<p>Once the rules have been created, add things to the Bag by dragging them from
the Panel. To get the resule of 8-3, add 8 times the first symbol(triangle), 3
times the second(lozenge), and the subtract symbol(empty dot). Step through the
evaluation by pressing the squiggly symbol until no transformation is
possible.</p>

<table border='1'>
	<tr><th colspan='2'>Content of Bag</th></tr>
	<tr>
		<td><img src='../media/generic/tote_bag.png'/></td>
		<td><img src='../media/generic/tote_res.png'/></td>
	</tr>
	<tr>
		<td>x=8 y=3 sub</td>
		<td>pos=5</td>
	</tr>
</table>

<h3>Editing Symbols</h3>
<p>Click on the symbols in the Panel(left) to open the <b>Symbol Editor</b> with
which you can draw new symbols, save/load the <a href='icn_format.html'>ICN
graphics</a>, lock/unlock the dragging of the symbol in the bag, activate
continuous/step mode for when the symbol is clicked on.</p>
<ul>
	<li>Clear sprite</li>
	<li>Export sprite</li>
	<li>Import sprite</li>
	<li>Set Spawn direction</li>
	<li>Toggle Visibility</li>
	<li>Toggle Lock</li>
</ul>

<h3>Loops</h3>

<p>Here's a little fizzbuzz program that demonstrates how to create loops and
conditionals. Noticed how the order of rules will erase the fizz/buzz tokens
before incrementing the counters.</p>

<video width="330" height="182" style="outline:1px solid black" autoplay loop>
	<source src="../media/generic/tote_fizzbuzz.mp4" type="video/mp4">
	Your browser does not support the video tag.
</video>

<p>The program above is roughly equivalent to the following bit of
pseudocode:</p>

<pre>
while(x++ || y++) {
	if(x == 3) print_fizz(), x = 0;
	if(y == 5) print_buzz(), y = 0;
}
</pre>

<h3>Setting Anchors</h3>
<p>Clicking inside the bag during <i>symbol editing</i> gives that symbol an
<b>anchor position</b>, when that symbol will be created as the result of a
rule, it will spawn at that location.</p>

<video width="444" height="352" style="outline:1px solid black" autoplay loop>
	<source src="../media/generic/tote_magic.mp4" type="video/mp4">
	Your browser does not support the video tag.
</video>

<p>Click on a rule's arrow to toggle between one of four triggers that can
trigger the rule:</p>
<ul>
	<li><kbd>--></kbd> On step</li>
	<li><kbd>>--</kbd> On clicking on a symbol</li>
	<li><kbd>-<></kbd> On dragging a symbol onto another</li>
	<li><kbd>..></kbd> On a timer</li>
</ul>

<img src='../media/generic/horadric.png' style='margin:0 auto 30px auto;display: block;width: 200px;'/>

<ul>
	<li><a href='https://www.youtube.com/watch?v=xg_LdNuU9ks&list=PLZOFJGlHDrLLhSMkWF7SzHShsV30AK3kT' target='_blank'>watch examples</a>, playlist by CapitalEx</li>
	<li><a href='https://git.sr.ht/~rabbits/tote' target='_blank'>view source</a></li>
	<li><a href='https://rabbits.srht.site/tote/tote.rom' target='_blank'>download rom</a></li>
	<li><a href='https://discord.gg/dzFXBZVEgd' target='_blank'>Community</a></li>
	<li>Original characters by Rek Bellum</a>
</ul>

